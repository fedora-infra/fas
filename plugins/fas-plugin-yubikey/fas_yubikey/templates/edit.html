<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude">
  <?python
  import genshi.template.plugin
  master = genshi.template.plugin.MarkupTemplateEnginePlugin().load_template('fas.templates.master')
  ?>
  <xi:include href="${master.filename}" />
  <head>
    <title>${_('Edit Yubikey Settings')}</title>
  </head>
  <body>
    <h2>${_('Edit Yubikey for (%s)') % target.username}</h2>
    <form action="${tg.url('/yubikey/save/%s' % target.username)}" method="post" enctype="multipart/form-data">
      <div class="field">
        <label for="yubikey_enabled">${_('Active')}:</label>
        <select name="yubikey_enabled">
          <option value='0' py:attrs="dict(selected=(configs['enabled']=='0' and 'True' or None))">Disabled&nbsp;</option>
          <option value='1' py:attrs="dict(selected=(configs['enabled']=='1' and 'True' or None))">Enabled&nbsp;</option>
        </select>
        <script type="text/javascript">var hb1 = new HelpBalloon({dataURL: '${tg.url('/yubikey/help/yubikey_enabled')}'});</script>
      </div>
      <div class="field">
        <label for="yubikey_prefix">${_('Key Prefix')}:</label>
        <input type="text" size="12" maxlength="12" id="yubikey_prefix" name="yubikey_prefix" value="${configs['prefix']}" />
        <script type="text/javascript">var hb1 = new HelpBalloon({dataURL: '${tg.url('/yubikey/help/yubikey_prefix')}'});</script>
      </div>
      <div class="field">
        <label for="yubikey_save">${_('Save Changes')}:</label>
        <input type="submit" value="${_('Save!')}" />
        <a href="${tg.url('/yubikey/')}">${_('Cancel')}</a>
      </div>
    </form>
  </body>
</html>
